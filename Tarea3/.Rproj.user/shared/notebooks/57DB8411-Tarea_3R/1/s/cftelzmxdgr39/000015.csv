"0","df <- df %>%"
"0","  mutate(ocup = case_when("
"0","    edad>=15 & o1 == 2 & o2 == 2 & o3 == 2 & o6 == 1 ~ 2,"
"0","    edad>=15 & (o1 == 1 | o2 == 1 | o3) == 1 ~ 1,"
"0","    edad>=15 & o3 == 2 & o6 == 2 ~ 3,"
"0","    TRUE ~ NA_real_"
"0","  )) %>%"
"0","  mutate(ocup = factor(ocup, levels = c(1, 2, 3))) %>%"
"0","  mutate(ocup = recode(ocup,"
"0","                       `1` = 'Ocupado',"
"0","                       `2` = 'No ocupado',"
"0","                       `3` = 'Inactivo')) %>%"
"0","  mutate(ocup = factor(ocup, levels = c('Ocupado', 'No ocupado', 'Inactivo')))"
"0",""
